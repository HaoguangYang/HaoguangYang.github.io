---
layout: default
title: Linux 与 Windows 双系统工作站搭建工作记录
---

<p style="margin-bottom: 0cm; line-height: 100%">硬件配置</p>
	<p style="margin-bottom: 0cm; line-height: 100%">本工作站作为医学影像的机器视觉服务器使用，同时兼顾科学计算和部分实验室娱乐的需求，采用如下配置：</p>
</ol><a name="magicparlabel-278"></a><dl>
	<dd>
	<table width="590" cellpadding="2" cellspacing="0">
		<col width="87">
		<col width="495">
		<tr valign="top">
			<td width="87" style="border: none; padding: 0cm">
				<p align="center"><a name="magicparlabel-264"></a>项目</p>
			</td>
			<td width="495" style="border: none; padding: 0cm">
				<p align="center"><a name="magicparlabel-265"></a>值</p>
			</td>
		</tr>
		<tr valign="top">
			<td width="87" style="border: none; padding: 0cm">
				<p align="center"><a name="magicparlabel-266"></a>主板</p>
			</td>
			<td width="495" style="border: none; padding: 0cm">
				<p align="center"><a name="magicparlabel-267"></a><font face="Liberation Serif, serif"><font size="3" style="font-size: 12pt"><span lang="en-US">SuperMicro
				X10DAL-i</span></font></font></p>
			</td>
		</tr>
		<tr valign="top">
			<td width="87" style="border: none; padding: 0cm">
				<p align="center"><a name="magicparlabel-268"></a>处理器</p>
			</td>
			<td width="495" style="border: none; padding: 0cm">
				<p align="center"><a name="magicparlabel-269"></a><font face="Liberation Serif, serif"><font size="3" style="font-size: 12pt"><span lang="en-US">Intel®
				Xeon(R) CPU E5-2667 v3 QEYA Engineering Sample × 2 @ 2.90GHz,
				3.50GHz Max × 4 Cores, 8 Threads</span></font></font></p>
			</td>
		</tr>
		<tr valign="top">
			<td width="87" style="border: none; padding: 0cm">
				<p align="center"><a name="magicparlabel-270"></a><font face="Liberation Serif, serif"><font size="3" style="font-size: 12pt"><span lang="en-US">RAM</span></font></font></p>
			</td>
			<td width="495" style="border: none; padding: 0cm">
				<p align="center"><a name="magicparlabel-271"></a><font face="Liberation Serif, serif"><font size="3" style="font-size: 12pt"><span lang="en-US">64.0
				GiB DDR4 2133 RDIMM </span></font></font>四通道内存</p>
			</td>
		</tr>
		<tr valign="top">
			<td width="87" style="border: none; padding: 0cm">
				<p align="center"><a name="magicparlabel-272"></a><font face="Liberation Serif, serif"><font size="3" style="font-size: 12pt"><span lang="en-US">GPU</span></font></font></p>
			</td>
			<td width="495" style="border: none; padding: 0cm">
				<p align="center"><a name="magicparlabel-273"></a><font face="Liberation Serif, serif"><font size="3" style="font-size: 12pt"><span lang="en-US">NVidia
				GeForce GTX 1080 × 2 /PCIe/SSE2</span></font></font>，通过修改<font face="Liberation Serif, serif"><font size="3" style="font-size: 12pt"><span lang="en-US">BIOS</span></font></font>实现<font face="Liberation Serif, serif"><font size="3" style="font-size: 12pt"><span lang="en-US">SLI</span></font></font></p>
			</td>
		</tr>
		<tr valign="top">
			<td width="87" style="border: none; padding: 0cm">
				<p align="center"><a name="magicparlabel-274"></a>操作系统</p>
			</td>
			<td width="495" style="border: none; padding: 0cm">
				<p align="center"><a name="magicparlabel-275"></a><font face="Liberation Serif, serif"><font size="3" style="font-size: 12pt"><span lang="en-US">Ubuntu
				16.04 LTS amd64</span></font></font></p>
			</td>
		</tr>
		<tr valign="top">
			<td width="87" style="border: none; padding: 0cm">
				<p align="center"><a name="magicparlabel-276"></a>硬盘</p>
			</td>
			<td width="495" style="border: none; padding: 0cm">
				<p align="center"><a name="magicparlabel-277"></a><font face="Liberation Serif, serif"><font size="3" style="font-size: 12pt"><span lang="en-US">256
				GiB </span></font></font>操作系统盘，<font face="Liberation Serif, serif"><font size="3" style="font-size: 12pt"><span lang="en-US">3000
				GiB HDD × 2</span></font></font></p>
			</td>
		</tr>
	</table>
</dl>
<p style="margin-bottom: 0cm; line-height: 100%"><br/>

</p>
<ol start="2">
	<li/>
<p style="margin-bottom: 0cm; line-height: 100%">磁盘分区方案（磁盘空间为大致值）</p>
	<p style="margin-bottom: 0cm; line-height: 100%"><font face="Liberation Serif, serif"><font size="3" style="font-size: 12pt"><span lang="en-US">/dev/sda:
	</span></font></font>
	</p>
	<ol>
		<p style="margin-bottom: 0cm; line-height: 100%"><font face="Liberation Serif, serif"><font size="3" style="font-size: 12pt"><span lang="en-US">/dev/sda1	500MB
		NTFS, Windows Boot</span></font></font></p>
		<p style="margin-bottom: 0cm; line-height: 100%"><font face="Liberation Serif, serif"><font size="3" style="font-size: 12pt"><span lang="en-US">/dev/sda2	138500MB
		NTFS, Windows</span></font></font></p>
		<p style="margin-bottom: 0cm; line-height: 100%"><font face="Liberation Serif, serif"><font size="3" style="font-size: 12pt"><span lang="en-US">/dev/sda3	100000MB
		Ext4. Linux /</span></font></font></p>
	</ol>
	<p style="margin-bottom: 0cm; line-height: 100%"><font face="Liberation Serif, serif"><font size="3" style="font-size: 12pt"><span lang="en-US">/dev/sdb:</span></font></font></p>
	<ol>
		<p style="margin-bottom: 0cm; line-height: 100%"><font face="Liberation Serif, serif"><font size="3" style="font-size: 12pt"><span lang="en-US">/dev/sdb1	350000MB
		NTFS, WindowsUsers</span></font></font></p>
		<p style="margin-bottom: 0cm; line-height: 100%"><font face="Liberation Serif, serif"><font size="3" style="font-size: 12pt"><span lang="en-US">/dev/sdb2	2000MB
		Swap, Linux Swap</span></font></font></p>
		<p style="margin-bottom: 0cm; line-height: 100%"><font face="Liberation Serif, serif"><font size="3" style="font-size: 12pt"><span lang="en-US">/dev/sdb3	50000MB
		Ext4, Linux /tmp</span></font></font></p>
		<p style="margin-bottom: 0cm; line-height: 100%"><font face="Liberation Serif, serif"><font size="3" style="font-size: 12pt"><span lang="en-US">/dev/sdb4	450000MB
		Ext4, Linux /home</span></font></font></p>
		<p style="margin-bottom: 0cm; line-height: 100%"><font face="Liberation Serif, serif"><font size="3" style="font-size: 12pt"><span lang="en-US">/dev/sdb5	1000000MB
		NTFS. Software</span></font></font></p>
		<p style="margin-bottom: 0cm; line-height: 100%"><font face="Liberation Serif, serif"><font size="3" style="font-size: 12pt"><span lang="en-US">/dev/sdb6	1000000MB
		NTFS, Developer</span></font></font></p>
	</ol>
	<p style="margin-bottom: 0cm; line-height: 100%"><font face="Liberation Serif, serif"><font size="3" style="font-size: 12pt"><span lang="en-US">/dev/sdc:</span></font></font></p>
	<ol>
		<p style="margin-bottom: 0cm; line-height: 100%"><font face="Liberation Serif, serif"><font size="3" style="font-size: 12pt"><span lang="en-US">/dev/sdc1	1400000MB
		NTFS, Data</span></font></font></p>
		<p style="margin-bottom: 0cm; line-height: 100%"><font face="Liberation Serif, serif"><font size="3" style="font-size: 12pt"><span lang="en-US">/dev/sdc2	1450000MB
		Ext4, Backup</span></font></font></p>
	</ol>
	<li/>
<p style="margin-bottom: 0cm; line-height: 100%">安装双系统</p>
	<ol>
		<li/>
<p style="margin-bottom: 0cm; line-height: 100%">安装<font face="Liberation Serif, serif"><font size="3" style="font-size: 12pt"><span lang="en-US">Windows</span></font></font>操作系统</p>
		<p style="margin-bottom: 0cm; line-height: 100%"><font face="Liberation Serif, serif"><font size="3" style="font-size: 12pt"><span lang="en-US">Windows
		</span></font></font>操作系统按正常安装流程安装，安装完成后关闭并删除系统分页文件，关闭快速启动，关闭自动睡眠，将用户文件移动至<font face="Liberation Serif, serif"><font size="3" style="font-size: 12pt"><span lang="en-US">sdb1</span></font></font>分区，并通过<font face="Liberation Serif, serif"><font size="3" style="font-size: 12pt"><span lang="en-US">mklink
		/J</span></font></font>命令创建符号链接。</p>
		<li/>
<p style="margin-bottom: 0cm; line-height: 100%">安装<font face="Liberation Serif, serif"><font size="3" style="font-size: 12pt"><span lang="en-US">Ubuntu
		16.04</span></font></font></p>
		<p style="margin-bottom: 0cm; line-height: 100%">按磁盘分区挂载各<font face="Liberation Serif, serif"><font size="3" style="font-size: 12pt"><span lang="en-US">Linux</span></font></font>分区，注意将<font face="Liberation Serif, serif"><font size="3" style="font-size: 12pt"><span lang="en-US">Grub</span></font></font>引导安装在<font face="Liberation Serif, serif"><font size="3" style="font-size: 12pt"><span lang="en-US">/dev/sda.</span></font></font></p>
		<li/>
<p style="margin-bottom: 0cm; line-height: 100%">引导出现问题的解决办法</p>
		<p style="margin-bottom: 0cm; line-height: 100%">由于误操作，将<font face="Liberation Serif, serif"><font size="3" style="font-size: 12pt"><span lang="en-US">Grub</span></font></font>安装在<font face="Liberation Serif, serif"><font size="3" style="font-size: 12pt"><span lang="en-US">/dev/sda1</span></font></font>，导致引导<font face="Liberation Serif, serif"><font size="3" style="font-size: 12pt"><span lang="en-US">Windows</span></font></font>时进入无限循环。通过<font face="Liberation Serif, serif"><font size="3" style="font-size: 12pt"><span lang="en-US">GRUB4DOS</span></font></font>引导盘引导进入<font face="Liberation Serif, serif"><font size="3" style="font-size: 12pt"><span lang="en-US">Windows</span></font></font>，使用<font face="Liberation Serif, serif"><font size="3" style="font-size: 12pt"><span lang="en-US">Bootice.exe
		</span></font></font>工具移除<font face="Liberation Serif, serif"><font size="3" style="font-size: 12pt"><span lang="en-US">/dev/sda1</span></font></font>的<font face="Liberation Serif, serif"><font size="3" style="font-size: 12pt"><span lang="en-US">Grub</span></font></font>，重启并装入<font face="Liberation Serif, serif"><font size="3" style="font-size: 12pt"><span lang="en-US">Ubuntu
		Live CD</span></font></font>，终端执行如下命令：</p>
		<ol>
			<p style="margin-bottom: 0cm; line-height: 100%"><font face="Liberation Serif, serif"><font size="3" style="font-size: 12pt"><span lang="en-US">sudo
			update-grub; sudo grub-install /dev/sda</span></font></font></p>
		</ol>
		<p style="margin-bottom: 0cm; line-height: 100%">完成<font face="Liberation Serif, serif"><font size="3" style="font-size: 12pt"><span lang="en-US">Grub</span></font></font>修复。</p>
	</ol>
	<li/>
<p style="margin-bottom: 0cm; line-height: 100%">软件配置</p>
	<p style="margin-bottom: 0cm; line-height: 100%">如之前记录所述。</p>
</ol>

